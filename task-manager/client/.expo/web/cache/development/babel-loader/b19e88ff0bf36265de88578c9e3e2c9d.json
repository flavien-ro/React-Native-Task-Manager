{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/flavien/EPITECH_TEK2/PROJET_HUB/React-Native-Task-Manager/task-manager/client/Components/taskManager/modifyTask.js\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport axios from 'axios';\nimport moment from 'moment';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { Ionicons } from '@expo/vector-icons';\nvar ScreenHeight = Dimensions.get(\"window\").height + 100;\nexport default function ModifyTask(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var _route$params = route.params,\n      token = _route$params.token,\n      userId = _route$params.userId,\n      taskID = _route$params.taskID,\n      title = _route$params.title,\n      description = _route$params.description,\n      begin = _route$params.begin,\n      end = _route$params.end;\n\n  var _useState = useState(title),\n      _useState2 = _slicedToArray(_useState, 2),\n      modTitle = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(description),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modDescription = _useState4[0],\n      setDescription = _useState4[1];\n\n  var _useState5 = useState(new Date(begin)),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dateBegin = _useState6[0],\n      setDateBegin = _useState6[1];\n\n  var _useState7 = useState(new Date(end)),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dateEnd = _useState8[0],\n      setDateEnd = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      show = _useState10[0],\n      setShow = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showEnd = _useState12[0],\n      setShowEnd = _useState12[1];\n\n  var modify = function modify() {\n    var dateToReplace = new Date(dateEnd);\n\n    if (dateBegin > dateEnd) {\n      dateToReplace = new Date(dateBegin.getTime() + 86400000);\n    }\n\n    var formatBegin = moment(dateBegin).format(\"YYYY-MM-DD\");\n    var formatEnd = moment(dateToReplace).format(\"YYYY-MM-DD\");\n    var data = JSON.stringify({\n      \"name\": modTitle,\n      \"description\": modDescription,\n      \"owner\": JSON.parse(userId),\n      \"begin\": formatBegin,\n      \"end\": formatEnd\n    });\n    var config = {\n      method: 'put',\n      url: config.API_URL + 'api/task/' + taskID,\n      headers: {\n        'auth-token': JSON.parse(token),\n        'Content-Type': 'application/json'\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      if (response.data.res) {\n        alert(response.data.res);\n        navigation.navigate('TaskManager');\n      } else {\n        alert(response.data);\n      }\n    }).catch(function (error) {\n      alert(error);\n    });\n  };\n\n  var changeStart = function changeStart(event, selectedDate) {\n    if (Platform.OS !== 'ios') {\n      setShow(!show);\n    }\n\n    var currentDate = selectedDate || dateBegin;\n    setDateBegin(currentDate);\n  };\n\n  var changeEnd = function changeEnd(event, selectedDate) {\n    if (Platform.OS !== 'ios') {\n      setShowEnd(!showEnd);\n    }\n\n    var currentDate = selectedDate || dateEnd;\n    setDateEnd(currentDate);\n  };\n\n  return React.createElement(LinearGradient, {\n    colors: ['#4c669f', '#3b5998', '#192f6a'],\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.scrollView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      flexGrow: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: styles.background,\n    enabled: true,\n    behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.goBack,\n    onPress: function onPress() {\n      return navigation.navigate('TaskManager');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, React.createElement(Ionicons, {\n    style: {\n      marginRight: 10\n    },\n    name: \"return-down-back\",\n    size: 24,\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }), React.createElement(Text, {\n    style: {\n      color: 'white',\n      fontWeight: 'bold',\n      fontSize: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, \" Return to task manager \")), React.createElement(Text, {\n    style: {\n      top: '6%',\n      color: 'white',\n      fontSize: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Modify your task :\"), React.createElement(View, {\n    style: styles.taskCreator,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'left',\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Title :\"), React.createElement(View, {\n    style: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, React.createElement(TextInput, {\n    name: \"email\",\n    value: modTitle,\n    onChangeText: function onChangeText(modTitle) {\n      return setTitle(modTitle);\n    },\n    placeholder: 'Title of the task',\n    autoCapitalize: \"none\",\n    clearButtonMode: \"while-editing\",\n    style: styles.txtInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  })), React.createElement(Text, {\n    style: {\n      textAlign: 'left',\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, \"Description :\"), React.createElement(View, {\n    style: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, React.createElement(TextInput, {\n    name: \"email\",\n    value: modDescription,\n    onChangeText: function onChangeText(modDescription) {\n      return setDescription(modDescription);\n    },\n    placeholder: 'description of the task',\n    autoCapitalize: \"none\",\n    clearButtonMode: \"while-editing\",\n    multiline: true,\n    style: styles.txtInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  })), React.createElement(Text, {\n    style: {\n      textAlign: 'left',\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, \"Start :\"), Platform.OS !== 'ios' && React.createElement(Button, {\n    onPress: function onPress() {\n      return setShow(true);\n    },\n    title: \"Pick starting date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }), Platform.OS === \"ios\" && React.createElement(DateTimePicker, {\n    value: dateBegin,\n    dateFormat: \"day month year\",\n    mode: \"date\",\n    display: \"default\",\n    onChange: changeStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }), show && React.createElement(DateTimePicker, {\n    value: dateBegin,\n    dateFormat: \"day month year\",\n    mode: \"date\",\n    display: \"default\",\n    onChange: changeStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 27\n    }\n  }), Platform.OS !== 'ios' && React.createElement(Text, {\n    style: {\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, \"The starting date is : \", moment(dateBegin).format(\"DD/MM/YYYY\")), React.createElement(Text, {\n    style: {\n      textAlign: 'left',\n      marginBottom: 20,\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, \"End :\"), Platform.OS !== 'ios' && React.createElement(Button, {\n    onPress: function onPress() {\n      return setShowEnd(true);\n    },\n    title: \"Pick ending date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }), Platform.OS === \"ios\" && React.createElement(DateTimePicker, {\n    minimumDate: new Date(dateBegin.getTime() + 86400000),\n    value: dateEnd,\n    dateFormat: \"day month year\",\n    mode: \"date\",\n    display: \"default\",\n    onChange: changeEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }), Platform.OS !== 'ios' && React.createElement(Text, {\n    style: {\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }, \"The ending date is : \", dateBegin > dateEnd ? moment(new Date(dateBegin.getTime() + 86400000)).format(\"DD/MM/YYYY\") : moment(dateEnd).format(\"DD/MM/YYYY\")), showEnd && React.createElement(DateTimePicker, {\n    minimumDate: new Date(dateBegin.getTime() + 86400000),\n    value: dateEnd,\n    dateFormat: \"day month year\",\n    mode: \"date\",\n    display: \"default\",\n    onChange: changeEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }), React.createElement(View, {\n    style: styles.buttonSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return modify();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white',\n      textAlign: 'center',\n      fontSize: 18,\n      paddingBottom: 10,\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 31\n    }\n  }, \"Modify Task\"))))))))));\n}\nvar styles = StyleSheet.create({\n  background: {\n    minHeight: ScreenHeight,\n    width: '100%',\n    marginBottom: 50\n  },\n  scrollView: {\n    flex: 1,\n    marginBottom: 100\n  },\n  container: {\n    flex: 1,\n    fontFamily: 'Montserrat',\n    height: '100%',\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  title: {\n    top: '2%',\n    margin: 'auto',\n    width: '80%',\n    padding: 10\n  },\n  taskCreator: {\n    top: '10%',\n    width: '90%',\n    padding: 20,\n    minHeight: 50,\n    backgroundColor: 'white'\n  },\n  txtInput: {\n    borderWidth: 1,\n    borderColor: 'blue',\n    padding: 10,\n    borderRadius: 5,\n    marginBottom: 20\n  },\n  buttonSection: {\n    backgroundColor: '#3b5998',\n    marginVertical: 50,\n    borderRadius: 25\n  },\n  goBack: {\n    top: '2%',\n    left: -60,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 25\n  }\n});","map":{"version":3,"sources":["/home/flavien/EPITECH_TEK2/PROJET_HUB/React-Native-Task-Manager/task-manager/client/Components/taskManager/modifyTask.js"],"names":["React","useState","LinearGradient","axios","moment","DateTimePicker","Ionicons","ScreenHeight","Dimensions","get","height","ModifyTask","route","navigation","params","token","userId","taskID","title","description","begin","end","modTitle","setTitle","modDescription","setDescription","Date","dateBegin","setDateBegin","dateEnd","setDateEnd","show","setShow","showEnd","setShowEnd","modify","dateToReplace","getTime","formatBegin","format","formatEnd","data","JSON","stringify","parse","config","method","url","API_URL","headers","then","response","res","alert","navigate","catch","error","changeStart","event","selectedDate","Platform","OS","currentDate","changeEnd","styles","background","scrollView","flexGrow","flex","container","goBack","marginRight","color","fontWeight","fontSize","top","taskCreator","textAlign","marginBottom","input","txtInput","marginTop","buttonSection","paddingBottom","paddingTop","StyleSheet","create","minHeight","width","fontFamily","display","alignItems","margin","padding","backgroundColor","borderWidth","borderColor","borderRadius","marginVertical","left","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacity, KeyboardAvoidingView, Platform, ScrollView, SafeAreaView, Dimensions } from 'react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport axios from 'axios';\nimport moment from 'moment'\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { Ionicons } from '@expo/vector-icons';\n\nlet ScreenHeight = Dimensions.get(\"window\").height + 100;\n\n\nexport default function ModifyTask({ route, navigation }) {\n    const { token, userId, taskID, title, description, begin, end } = route.params;\n    const [modTitle, setTitle] = useState(title);\n    const [modDescription, setDescription] = useState(description);\n    const [dateBegin, setDateBegin] = useState(new Date(begin));\n    const [dateEnd, setDateEnd] = useState(new Date(end));\n    const [show, setShow] = useState(false);\n    const [showEnd, setShowEnd] = useState(false);\n\n    const modify = () => {\n      var dateToReplace = new Date(dateEnd);\n        if (dateBegin > dateEnd) {\n          dateToReplace = new Date(dateBegin.getTime() + 86400000);\n        }\n        const formatBegin = moment(dateBegin).format(\"YYYY-MM-DD\")\n        const formatEnd = moment(dateToReplace).format(\"YYYY-MM-DD\")\n        \n        var data = JSON.stringify({\"name\": modTitle,\"description\": modDescription, \"owner\": JSON.parse(userId), \"begin\": formatBegin,\n        \"end\": formatEnd});\n  \n        var config = {\n        method: 'put',\n        url: config.API_URL + 'api/task/' + taskID,\n        headers: { \n            'auth-token': JSON.parse(token),\n            'Content-Type': 'application/json'\n        },\n        data : data\n        };\n\n        axios(config)\n        .then(function (response) {\n          if (response.data.res) {\n            alert(response.data.res);\n            navigation.navigate('TaskManager')\n          } else {\n            alert(response.data);\n          }\n        })\n        .catch(function (error) {\n            alert(error);\n        });\n    };\n    const changeStart = (event, selectedDate) => {\n      if (Platform.OS !== 'ios') {\n          setShow(!show);\n      }\n      const currentDate = selectedDate || dateBegin;\n      setDateBegin(currentDate);\n    };\n\n    const changeEnd = (event, selectedDate) => {\n      if (Platform.OS !== 'ios') {\n        setShowEnd(!showEnd);\n      }\n      const currentDate = selectedDate || dateEnd;\n      setDateEnd(currentDate);\n    };\n      return (\n        <LinearGradient\n        colors={['#4c669f', '#3b5998', '#192f6a']}\n        style={styles.background}>\n        <SafeAreaView style={styles.scrollView}>\n        <ScrollView style={{flexGrow: 1}}>\n        <KeyboardAvoidingView style={styles.background}\n          enabled\n          behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n          style={{ flex: 1 }}>\n          <View style={styles.background}>\n                <View style={styles.container}>\n                    <TouchableOpacity style={styles.goBack} onPress={() => navigation.navigate('TaskManager')}>\n                        <Ionicons style={{marginRight: 10}} name=\"return-down-back\" size={24} color=\"white\" />\n                        <Text style={{color: 'white', fontWeight: 'bold', fontSize: 16}}> Return to task manager </Text>\n                    </TouchableOpacity>\n                    <Text style={{top: '6%', color: 'white', fontSize: 30}}>Modify your task :</Text>\n                    <View style={styles.taskCreator}>\n                        <Text style={{textAlign: 'left', marginBottom: 20}}>Title :</Text>\n                        <View style={styles.input}>\n                            <TextInput\n                                name=\"email\"\n                                value={modTitle}\n                                onChangeText={(modTitle) => setTitle(modTitle)}\n                                placeholder={'Title of the task'}\n                                autoCapitalize='none'\n                                clearButtonMode='while-editing'\n                                style={styles.txtInput}\n                            />\n                        </View>\n                        <Text style={{textAlign: 'left', marginBottom: 20}}>Description :</Text>\n                        <View style={styles.input}>\n                            <TextInput\n                                name=\"email\"\n                                value={modDescription}\n                                onChangeText={(modDescription) => setDescription(modDescription)}\n                                placeholder={'description of the task'}\n                                autoCapitalize='none'\n                                clearButtonMode='while-editing'\n                                multiline\n                                style={styles.txtInput}\n                            />\n                        </View>\n                        <Text style={{textAlign: 'left', marginBottom: 20}}>Start :</Text>\n                        {Platform.OS !== 'ios' &&\n                            <Button onPress={() => setShow(true)} title=\"Pick starting date\" />\n                        }\n                        {Platform.OS === \"ios\" &&\n                            <DateTimePicker \n                            value={dateBegin}\n                            dateFormat=\"day month year\"\n                            mode='date'\n                            display='default'\n                            onChange={changeStart} />\n                        }\n                        {show && \n                          <DateTimePicker \n                            value={dateBegin}\n                            dateFormat=\"day month year\"\n                            mode='date'\n                            display='default'\n                            onChange={changeStart} />\n                        }\n                        {Platform.OS !== 'ios' &&\n                            <Text style={{marginTop: 20}}>The starting date is : {moment(dateBegin).format(\"DD/MM/YYYY\")}</Text>\n                        }\n                        <Text style={{textAlign: 'left', marginBottom: 20, marginTop: 20}}>End :</Text>\n                        {Platform.OS !== 'ios' &&\n                            <Button onPress={() => setShowEnd(true)} title=\"Pick ending date\" />\n                        }\n                        {Platform.OS === \"ios\" &&\n                            <DateTimePicker \n                            minimumDate={new Date(dateBegin.getTime() + 86400000)}\n                            value={dateEnd}\n                            dateFormat=\"day month year\"\n                            mode='date'\n                            display='default'\n                            onChange={changeEnd} />\n                        }\n                        {Platform.OS !== 'ios' &&\n                            <Text style={{marginTop: 20}}>The ending date is : {dateBegin > dateEnd ? moment(new Date(dateBegin.getTime() + 86400000)).format(\"DD/MM/YYYY\") : moment(dateEnd).format(\"DD/MM/YYYY\")}</Text>\n                        }\n                        {showEnd &&\n                            <DateTimePicker \n                            minimumDate={new Date(dateBegin.getTime() + 86400000)}\n                            value={dateEnd}\n                            dateFormat=\"day month year\"\n                            mode='date'\n                            display='default'\n                            onChange={changeEnd} />\n                        }\n                        <View style={styles.buttonSection}>\n                        <TouchableOpacity onPress={() => modify()}>\n                              <Text style={{color: 'white', textAlign: 'center', fontSize: 18, paddingBottom: 10, paddingTop: 10}} >Modify Task</Text>\n                          </TouchableOpacity>\n                        </View>\n                    </View>\n                </View>\n          </View>\n          </KeyboardAvoidingView>\n          </ScrollView>\n          </SafeAreaView>\n          </LinearGradient>\n\n      );\n    }\n\nconst styles = StyleSheet.create({\n      background: {\n        minHeight: ScreenHeight,\n        width: '100%',\n        marginBottom: 50\n      },\n      scrollView: {\n        flex: 1,\n        marginBottom: 100\n      },\n      container: {\n        flex: 1,\n        fontFamily: 'Montserrat',\n        height: '100%',\n        width: '100%',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      title: {\n        top: '2%',\n        margin: 'auto',\n        width: '80%',\n        padding: 10,\n      },\n      taskCreator: {\n          top: '10%',\n          width: '90%',\n          padding: 20,\n          minHeight: 50,\n          backgroundColor: 'white',\n      },\n      txtInput: {\n        borderWidth: 1,\n        borderColor: 'blue',\n        padding: 10,\n        borderRadius: 5,\n        marginBottom: 20,\n      },\n      buttonSection: {\n        backgroundColor: '#3b5998',\n        marginVertical: 50,\n        borderRadius: 25,\n      },\n      goBack: {\n        top: '2%',\n        left: -60,\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginTop: 25\n      },\n});\n    "]},"metadata":{},"sourceType":"module"}