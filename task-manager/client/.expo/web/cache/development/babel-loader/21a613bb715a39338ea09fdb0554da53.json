{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/flavien/EPITECH_TEK2/PROJET_HUB/React-Native-Task-Manager/task-manager/client/Components/taskManager/taskManager.js\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport axios from 'axios';\nimport { AntDesign } from '@expo/vector-icons';\nimport { useIsFocused } from \"@react-navigation/native\";\nimport moment from 'moment';\nvar ScreenHeight = Dimensions.get(\"window\").height;\nvar ScreenWidth = Dimensions.get(\"window\").width;\nexport default function TaskManager(_ref) {\n  var _this = this;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var _route$params = route.params,\n      token = _route$params.token,\n      username = _route$params.username,\n      userId = _route$params.userId;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      tasks = _useState2[0],\n      setTasks = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      del = _useState4[0],\n      setDel = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mod = _useState6[0],\n      setMod = _useState6[1];\n\n  var isFocused = useIsFocused();\n  useEffect(function () {\n    setDel(false);\n    setMod(false);\n    var config = {\n      method: 'get',\n      url: config.API_URL + 'api/task/get-tasks/' + JSON.parse(userId),\n      headers: {\n        'auth-token': JSON.parse(token),\n        'Content-Type': 'application/json'\n      }\n    };\n    axios(config).then(function (response) {\n      setTasks(response.data);\n    }).catch(function (error) {\n      alert(error);\n    });\n  }, [isFocused, route, navigation, del, mod]);\n\n  var deletePost = function deletePost(id) {\n    setDel(false);\n    var config = {\n      method: 'delete',\n      url: config.API_URL + 'api/task/' + id,\n      headers: {\n        'auth-token': JSON.parse(token),\n        'Content-Type': 'application/json'\n      }\n    };\n    axios(config).then(function (response) {\n      alert(JSON.stringify(response.data.message));\n    }).catch(function (error) {\n      console.log(error);\n    });\n    setDel(true);\n  };\n\n  var modifyPost = function modifyPost(id, name, description, begin, end) {\n    navigation.navigate('ModifyTask', {\n      token: token,\n      userId: userId,\n      taskID: id,\n      title: name,\n      description: description,\n      begin: begin,\n      end: end\n    });\n    setMod(true);\n  };\n\n  return React.createElement(LinearGradient, {\n    colors: ['#4c669f', '#3b5998', '#192f6a'],\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.scrollView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      flexGrow: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: styles.background,\n    enabled: true,\n    behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      left: '30%',\n      marginTop: 40,\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    onPress: function onPress() {\n      alert('Successfully logged out ' + username);\n      navigation.navigate('Home');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      marginRight: 10,\n      color: 'white',\n      fontSize: 18,\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"Logout\"), React.createElement(AntDesign, {\n    name: \"logout\",\n    size: 24,\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 30,\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, \"Welcome to your task manager app \", JSON.parse(username))), React.createElement(View, {\n    style: styles.cardContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    activeOpacity: 0.4,\n    style: {\n      borderWidth: 2,\n      borderColor: '#ffff',\n      borderRadius: 10,\n      marginBottom: 10,\n      padding: 10\n    },\n    onPress: function onPress() {\n      return navigation.navigate('CreateTask', {\n        token: token,\n        userId: userId\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, \"Create a new task\")), tasks && tasks.map(function (t, index) {\n    return React.createElement(View, {\n      style: styles.card,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, React.createElement(Text, {\n      numberOfLines: 1,\n      ellipsizeMode: \"tail\",\n      style: {\n        flex: 1,\n        maxWidth: ScreenWidth - 125,\n        fontSize: 20,\n        fontWeight: '500',\n        textAlign: 'center',\n        marginTop: 20,\n        width: '100%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 33\n      }\n    }, t.name), React.createElement(Text, {\n      numberOfLines: 3,\n      ellipsizeMode: \"tail\",\n      style: {\n        flex: 1,\n        fontSize: 14,\n        textAlign: 'left',\n        width: '85%',\n        fontWeight: '400',\n        marginTop: 25,\n        marginBottom: 5\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }\n    }, \"Description: \", t.description), React.createElement(View, {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-around',\n        width: ScreenWidth\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 33\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 12,\n        fontWeight: '500',\n        textAlign: 'center',\n        marginTop: 20,\n        width: '100%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 37\n      }\n    }, \"Start : \", moment(t.begin).format(\"DD/MM/YYYY\")), React.createElement(Text, {\n      style: {\n        fontSize: 12,\n        fontWeight: '500',\n        textAlign: 'center',\n        marginTop: 20,\n        width: '100%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 37\n      }\n    }, \"End : \", moment(t.end).format(\"DD/MM/YYYY\"))), React.createElement(View, {\n      style: styles.managerButtons,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 33\n      }\n    }, React.createElement(TouchableOpacity, {\n      activeOpacity: .7,\n      style: styles.modifyBtn,\n      onPress: function onPress() {\n        return modifyPost(t._id, t.name, t.description, t.begin, t.end);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 35\n      }\n    }, React.createElement(AntDesign, {\n      style: {\n        marginRight: 10\n      },\n      name: \"edit\",\n      size: 24,\n      color: \"white\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 37\n      }\n    }), React.createElement(Text, {\n      style: styles.text,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 37\n      }\n    }, \"Modify\")), React.createElement(TouchableOpacity, {\n      activeOpacity: .7,\n      style: styles.delButton,\n      onPress: function onPress() {\n        return deletePost(t._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 35\n      }\n    }, React.createElement(AntDesign, {\n      style: {\n        marginRight: 10\n      },\n      name: \"delete\",\n      size: 24,\n      color: \"white\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    }), React.createElement(Text, {\n      style: styles.text,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 37\n      }\n    }, \"Delete\"))));\n  }))))))));\n}\nvar styles = StyleSheet.create({\n  background: {\n    minHeight: ScreenHeight,\n    width: '100%',\n    marginBottom: 50\n  },\n  scrollView: {\n    flex: 1\n  },\n  container: {\n    flex: 1,\n    fontFamily: 'Montserrat',\n    height: '100%',\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  title: {\n    top: '2%',\n    margin: 'auto',\n    width: '80%',\n    padding: 10\n  },\n  cardContainer: {\n    position: 'relative',\n    top: '5%',\n    width: '90%'\n  },\n  card: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n    borderRadius: 20,\n    backgroundColor: 'white',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.8,\n    shadowRadius: 2,\n    elevation: 5,\n    marginTop: 15,\n    marginBottom: 30\n  },\n  managerButtons: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  modifyBtn: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#33cc33',\n    borderRadius: 5,\n    padding: 20,\n    margin: 20,\n    width: '50%',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  delButton: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#cc0000',\n    borderRadius: 5,\n    padding: 20,\n    margin: 20,\n    width: '50%',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  }\n});","map":{"version":3,"sources":["/home/flavien/EPITECH_TEK2/PROJET_HUB/React-Native-Task-Manager/task-manager/client/Components/taskManager/taskManager.js"],"names":["React","useState","useEffect","LinearGradient","axios","AntDesign","useIsFocused","moment","ScreenHeight","Dimensions","get","height","ScreenWidth","width","TaskManager","route","navigation","params","token","username","userId","tasks","setTasks","del","setDel","mod","setMod","isFocused","config","method","url","API_URL","JSON","parse","headers","then","response","data","catch","error","alert","deletePost","id","stringify","message","console","log","modifyPost","name","description","begin","end","navigate","taskID","title","styles","background","scrollView","flexGrow","Platform","OS","flex","left","marginTop","display","flexDirection","alignItems","marginRight","color","fontSize","fontWeight","container","textAlign","cardContainer","borderWidth","borderColor","borderRadius","marginBottom","padding","map","t","index","card","maxWidth","justifyContent","format","managerButtons","modifyBtn","_id","text","delButton","StyleSheet","create","minHeight","fontFamily","top","margin","position","backgroundColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","lineHeight","letterSpacing"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, KeyboardAvoidingView, Platform, ScrollView, SafeAreaView, Dimensions } from 'react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport axios from 'axios';\nimport { AntDesign } from '@expo/vector-icons'; \nimport { useIsFocused } from \"@react-navigation/native\";\nimport moment from 'moment'\n\nlet ScreenHeight = Dimensions.get(\"window\").height;\nlet ScreenWidth = Dimensions.get(\"window\").width;\n\nexport default function TaskManager({ route, navigation }) {\n    const { token, username, userId } = route.params;\n    const [tasks, setTasks] = useState(null);\n    const [del, setDel] = useState(false);\n    const [mod, setMod] = useState(false);\n    const isFocused = useIsFocused();\n\n    useEffect(() => {\n        setDel(false);\n        setMod(false);\n        var config = {\n          method: 'get',\n          url: config.API_URL + 'api/task/get-tasks/' + JSON.parse(userId),\n          headers: { \n            'auth-token': JSON.parse(token),\n            'Content-Type': 'application/json'\n          },\n        };\n        \n        axios(config)\n        .then(function (response) {\n          setTasks(response.data);\n        })\n        .catch(function (error) {\n          alert(error);\n        });\n    }, [isFocused, route, navigation, del, mod]);\n  \n    const deletePost = (id) => {\n        setDel(false);\n        var config = {\n          method: 'delete',\n          url: config.API_URL + 'api/task/' + id,\n          headers: { \n            'auth-token': JSON.parse(token), \n            'Content-Type': 'application/json'\n          },\n        };\n        axios(config)\n        .then(function (response) {\n          alert(JSON.stringify(response.data.message));\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n        setDel(true);\n    };\n\n    const modifyPost = (id, name, description, begin, end) => {\n        navigation.navigate('ModifyTask', {\n          token: token,\n          userId: userId,\n          taskID: id,\n          title: name,\n          description: description,\n          begin: begin,\n          end: end\n        });\n        setMod(true);\n    }\n\n      return (\n        <LinearGradient\n        colors={['#4c669f', '#3b5998', '#192f6a']}\n        style={styles.background}>\n        <SafeAreaView style={styles.scrollView}>\n        <ScrollView style={{flexGrow: 1}}>\n        <KeyboardAvoidingView style={styles.background}\n          enabled\n          behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n          style={{ flex: 1 }}>\n          <View style={styles.background}>\n            <TouchableOpacity style={{left: '30%', marginTop: 40, display: 'flex', flexDirection: 'row', alignItems: 'center'}}\n            onPress={() => {\n              alert('Successfully logged out ' + username);\n              navigation.navigate('Home')}\n              }>\n              <Text style={{marginRight: 10, color: 'white', fontSize: 18, fontWeight: 'bold'}}>Logout</Text>\n              <AntDesign name=\"logout\" size={24} color=\"white\"/>\n\n            </TouchableOpacity>\n            <View style={styles.container}>\n                <View style={styles.title}>\n                    <Text style={{textAlign: 'center', fontSize: 30, color: 'white'}}>Welcome to your task manager app {JSON.parse(username)}</Text>\n                </View>\n                <View style={styles.cardContainer}>\n                  <TouchableOpacity activeOpacity={0.4} style={{borderWidth: 2, borderColor: '#ffff', borderRadius: 10, marginBottom: 10, padding: 10}}\n                  onPress={() => navigation.navigate('CreateTask', {\n                      token: token,\n                      userId: userId\n                    })}>\n                    <Text style={{textAlign: 'center', color: 'white'}}>Create a new task</Text>\n                  </TouchableOpacity>\n                    {tasks && tasks.map((t, index) => {\n                        return (\n                            <View style={styles.card} key={index}>\n                                <Text numberOfLines={1} ellipsizeMode='tail' style={{flex: 1, maxWidth: ScreenWidth - 125, fontSize: 20, fontWeight: '500', textAlign: 'center', marginTop: 20, width: '100%'}}>{t.name}</Text>\n                                <Text numberOfLines={3} ellipsizeMode='tail' style={{flex: 1, fontSize: 14, textAlign: 'left', width: '85%', fontWeight: '400', marginTop: 25, marginBottom: 5}}>Description: {t.description}</Text>\n                                <View style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-around', width: ScreenWidth}}>\n                                    <Text style={{fontSize: 12, fontWeight: '500', textAlign: 'center', marginTop: 20, width: '100%'}}>Start : {moment(t.begin).format(\"DD/MM/YYYY\")}</Text>\n                                    <Text style={{fontSize: 12, fontWeight: '500', textAlign: 'center', marginTop: 20, width: '100%'}}>End : {moment(t.end).format(\"DD/MM/YYYY\")}</Text>\n                                </View>\n                                <View style={styles.managerButtons}>\n                                  <TouchableOpacity activeOpacity={.7} style={styles.modifyBtn} onPress={() => modifyPost(t._id, t.name, t.description, t.begin, t.end)}>\n                                    <AntDesign style={{marginRight: 10}} name=\"edit\" size={24} color=\"white\" />\n                                    <Text style={styles.text}>Modify</Text>\n                                  </TouchableOpacity>\n                                  <TouchableOpacity activeOpacity={.7} style={styles.delButton} onPress={() => deletePost(t._id)}>\n                                    <AntDesign style={{marginRight: 10}} name=\"delete\" size={24} color=\"white\" />\n                                    <Text style={styles.text}>Delete</Text>\n                                  </TouchableOpacity>\n                              </View>\n                            </View>\n                          )\n                      })\n                      }\n                </View>\n            </View>\n          </View>\n          </KeyboardAvoidingView>\n          </ScrollView>\n          </SafeAreaView>\n          </LinearGradient>\n\n      );\n    }\n\nconst styles = StyleSheet.create({\n      background: {\n        minHeight: ScreenHeight,\n        width: '100%',\n        marginBottom: 50\n      },\n      scrollView: {\n        flex: 1,\n      },\n      container: {\n        flex: 1,\n        fontFamily: 'Montserrat',\n        height: '100%',\n        width: '100%',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      title: {\n        top: '2%',\n        margin: 'auto',\n        width: '80%',\n        padding: 10,\n      },\n      cardContainer: {\n        position: 'relative',\n        top: '5%',\n        width: '90%',\n      },\n      card: {\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'column',\n        justifyContent: 'space-around',\n        borderRadius: 20,\n        backgroundColor: 'white',\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 1 },\n        shadowOpacity: 0.8,\n        shadowRadius: 2,  \n        elevation: 5,\n        marginTop: 15,\n        marginBottom: 30\n      },\n      managerButtons: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n      },\n      modifyBtn: {\n        flex: 1,\n        alignItems: 'center',\n        backgroundColor: '#33cc33',\n        borderRadius: 5,\n        padding: 20,\n        margin: 20,\n        width: '50%',\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center'\n      },\n      delButton: {\n        flex: 1,\n        alignItems: 'center',\n        backgroundColor: '#cc0000',\n        borderRadius: 5,\n        padding: 20,\n        margin: 20,\n        width: '50%',\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center'\n      },\n      text: {\n        fontSize: 16,\n        lineHeight: 21,\n        fontWeight: 'bold',\n        letterSpacing: 0.25,\n        color: 'white',\n      },\n});\n    "]},"metadata":{},"sourceType":"module"}